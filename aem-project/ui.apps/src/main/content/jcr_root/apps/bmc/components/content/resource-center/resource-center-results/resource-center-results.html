<div data-sly-test="${wcmmode.edit}">[ Edit ${component.title} Component ]</div>
<sly data-sly-use.helper="${'com.bmc.models.components.resourcecenter.ResourceCenterFeaturedCardModel'}"></sly>
<sly data-sly-test.featuredCard="${helper.card}"/>

<sly data-sly-use.FeaturedCardBgImgChildProps="${'com.bmc.components.utils.CompChildNodeProps' @ childNode='fb'}"/>
<sly data-sly-test.fbImg="${FeaturedCardBgImgChildProps.ChildProperties['fileReference']}"/>
<sly data-sly-test.textColor="${fbImg ? 'white' : '#177ba2'}"/>

<div data-sly-test="${!wcmmode.edit}" class="rc-result-component">
    <text id="rootPath" hidden>${properties.rootPath}</text>
    <text id="pageSize" hidden>${properties.pageSize}</text>
    <div class="container pb-4">
        <div class="rc-result-header filter-menu">
            <span class="results-info" data-template="${'Showing {1} - {2} of {3}' @ i18n}"></span>
            <div style="float: right;">
                <span class="pages-info">${'Results Page' @ i18n}</span>
                <div class="js-results-page inline-block"></div>
                <span class="verticalBar">|</span>
                <div class="inline-block rc-sort-select-wrapper">
                    <select id="order_select" class="rc-sort-select">
                        <option value="modified">Sort By Recent</option>
                        <option value="title">Sort By Title</option>
                    </select>
                </div>
            </div>
        </div>
        <div data-sly-test="${featuredCard}" class="rc-card-row" style="padding-right: 20px;">
            <div class="rc-featured-card-col">
                <a class="${featuredCard.linkType == 'play' ? 'rc-card-modal-youtube-video-player' : ''}" href="${featuredCard.assetLink}" target="_blank" data-sly-attribute="${helper.analiticData}">
                    <!-- desktop featured card -->
                    <div class="featured-card-container">
                        <div class="featured-card featured-card-left-panel bg-white card-desktop" style="height: 310px;">
                            <div class="card-header">
                                <h3>${featuredCard.type}</h3>
                            </div>
                            <div class="card-content">
                                <hr/>
                                <h2 data-sly-use.truncateText="${'/apps/bmc/components/content/resource-center/resource-center-results/truncateText.js' @ text=featuredCard.title, chars=95}">
                                    ${truncateText.finalText}</h2>
                            </div>
                            <div class="featured-card-footer" style="padding-right: 0px;">
                                <span class="card-footer-action" style="font-size: large;color: white;">
                                    <div data-sly-unwrap>Action</div>
                                </span>
                            </div>
                        </div>
                        <div class="featured-card featured-card-right-panel ${properties.bgColor} card-desktop" style="height: 310px;">
                            <div class="card-header">
                                <div class="card-icon ic_${featuredCard.linkType}-white"></div>
                            </div>
                            <div class="card-content" style="background: url(${fbImg @ context='uri'}) no-repeat center center / cover;background-size: contain;min-height: 50%;"></div>
                            <div class="featured-card-footer" style="padding-left: 0px;">
                                <span class="card-footer-action" style="border-top-color:white;">
                                    <svg class="align-middle s-${featuredCard.linkType}-white">
                                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#s-${featuredCard.linkType}-white"></use>
                                    </svg>
                                    ${featuredCard.linkType == 'play' ? 'Play' : '' @ i18n}
                                    ${featuredCard.linkType == 'download' ? 'Download' : '' @ i18n}
                                    ${featuredCard.linkType == 'view' ? 'View' : '' @ i18n}
                                </span>
                            </div>
                        </div>
                    </div>
                    <!-- mobile featured card -->
                    <div class="featured-card featured-card-right-panel ${properties.bgColor} card-mobile" style="height: 310px;">
                        <div class="card-header" style="background: url(${fbImg @ context='uri'}) no-repeat top left / cover;background-size: contain;min-height: 10%;">
                            <h3 class="text-white">${featuredCard.type}</h3>
                            <div class="card-icon ic_${featuredCard.linkType}-white"></div>
                        </div>
                        <div class="card-content">
                            <hr/>
                            <h4 class="text-white" data-sly-use.truncateText="${'/apps/bmc/components/content/resource-center/resource-center-results/truncateText.js' @ text=featuredCard.title, chars=95}">
                                ${truncateText.finalText}</h4>
                        </div>
                        <div class="featured-card-footer" style="padding-left: 0px;">
                            <span class="card-footer-action" style="border-top-color:white;">
                                <svg class="align-middle s-${featuredCard.linkType}-white">
                                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#s-${featuredCard.linkType}-white"></use>
                                </svg>
                                ${featuredCard.linkType == 'play' ? 'Play' : '' @ i18n}
                                ${featuredCard.linkType == 'download' ? 'Download' : '' @ i18n}
                                ${featuredCard.linkType == 'view' ? 'View' : '' @ i18n}
                            </span>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <div id="resultItemsContainer"></div>
        <div class="rc-result-header-bottom">
            <div style="float: right;">
                <span class="pages-info">${'Results Page' @ i18n}</span>
                <div class="js-results-page inline-block"></div>
            </div>
        </div>
        <div class="no-results mt2" hidden>
            <p>${properties.noResultLabel || "No results found. Try adjusting your filters." @ i18n}</p>
        </div>
        <div class="error-call mt2" hidden>
            <p>${properties.errorLabel || 'Oops, please try again. It looks like we may be experiencing some technical issues.' @ i18n}</p>
        </div>
    </div>
</div>

<script id="resultItemsTemplate" type="text/x-handlebars-template" data-sly-include="modules/resultItemsTemplate.html"></script>
