<div data-sly-test="${wcmmode.edit}">[ Edit ${component.title} Component ]</div>
<sly data-sly-use.helper="${'com.bmc.models.components.resourcecenter.ResourceCenterFeaturedCardModel'}"></sly>
<sly data-sly-test.featuredCard="${helper.card}"/>

<sly data-sly-use.FeaturedCardBgImgChildProps="${'com.bmc.components.utils.CompChildNodeProps' @ childNode='fb'}"/>
<sly data-sly-test.fbImg="${FeaturedCardBgImgChildProps.ChildProperties['fileReference']}"/>

<sly data-sly-test.fcBgColor="${properties.bgColor == 'bg-bmc-blue' ? '#3980b2' : ''}"/>
<sly data-sly-test.fcBgColor="${!fcBgColor && properties.bgColor == 'bg-bmc-mid-blue' ? '#0093c9' : fcBgColor}"/>
<sly data-sly-test.fcBgColor="${!fcBgColor && properties.bgColor == 'bg-bmc-green' ? '#7fbc00' : fcBgColor}"/>
<sly data-sly-test.fcBgColor="${!fcBgColor && properties.bgColor == 'bg-bmc-mid-green' ? '#aacc07' : fcBgColor}"/>
<sly data-sly-test.fcBgColor="${!fcBgColor && properties.bgColor == 'bg-bmc-grey' ? '#414042' : fcBgColor}"/>
<sly data-sly-test.fcBgColor="${!fcBgColor && properties.bgColor == 'bg-bmc-teal' ? '#00a79d' : fcBgColor}"/>
<sly data-sly-test.fcBgColor="${!fcBgColor && properties.bgColor == 'bg-light-orange' ? '#f98700' : fcBgColor}"/>
<sly data-sly-test.fcBgColor="${!fcBgColor && properties.bgColor == 'bg-gartner-blue' ? '#006699' : fcBgColor}"/>
<sly data-sly-test.fcBgColor="${!fcBgColor && properties.bgColor == 'bg-forrester-green' ? '#16563F' : fcBgColor}"/>

<sly data-sly-test.footerIcon="${featuredCard.type == 'Trial' ? 'view' : featuredCard.linkType}"/>
<sly data-sly-test.footerIcon="${featuredCard.type == 'Webinar' ? 'view' : footerIcon}"/>

<style>
  .featured-card-container:hover .featured-card-left-panel{
    background-color: ${fcBgColor @ context='styleString'};
  }
  .featured-card-container:hover .featured-card-left-panel .card-footer-action{
    color: ${fcBgColor @ context='styleString'} !important;
  }
</style>

<div data-sly-test="${!wcmmode.edit}" class="rc-result-component" data-category="${properties.category}" data-root-path="${properties.rootPath}" data-page-size="${properties.pageSize}">
    <div class="container pb-4">
        <div class="rc-result-header filter-menu">
            <span class="results-info" data-template="${'Showing {1} - {2} of {3}' @ i18n}"></span>
            <div style="float: right;">
                <span class="pages-info">${'Results Page' @ i18n}</span>
                <div class="js-results-page inline-block top-paginator"></div>
                <span class="verticalBar">|</span>
                <div class="inline-block rc-sort-select-wrapper">
                    <select id="order_select" class="rc-sort-select">
                        <option value="modified">Sort By Recent</option>
                        <option value="title">Sort By Title</option>
                    </select>
                </div>
            </div>
        </div>

        <div data-sly-test="${featuredCard}" class="rc-card-row" style="padding: 0px;">
            <!--/* WEB-6757- added id to toggle feature card */-->
            <div class="rc-featured-card-col"  id="rc-featured-card">
                <a id="rc-featured-card-link" href="${featuredCard.assetLink}" data-sly-attribute="${helper.analiticData}">
                    <!-- desktop featured card -->
                    <div class="featured-card-container">
                        <div class="featured-card featured-card-left-panel bg-white card-desktop" style="height: 310px;">
                            <div class="card-header">
                                <h3>${featuredCard.type}</h3>
                            </div>
                            <div class="card-content">
                                <hr/>
                                <h2 data-sly-use.truncateText="${'/apps/bmc/components/content/resource-center/resource-center-results/truncateText.js' @ text=featuredCard.title, chars=95}">
                                    ${truncateText.finalText}</h2>
                            </div>
                            <div class="featured-card-footer">
                                <span class="card-footer-action" style="font-size: large;color: white;">
                                    <div data-sly-unwrap>Action</div>
                                </span>
                            </div>
                        </div>
                        <div class="featured-card featured-card-right-panel ${properties.bgColor} card-desktop" style="height: 310px;">
                            <div class="card-header">
                                <div class="card-icon ic_${featuredCard.linkType}-white"></div>
                            </div>
                            <div class="card-content" style="background: url(${fbImg @ context='uri'}) no-repeat center center / cover;background-size: contain;min-height: 50%;"></div>
                            <div class="featured-card-footer" >
                                <!--/* WEB-10350 changed Svg position  - STARt */-->
                                <span class="card-footer-action" style="border-top-color:white;">
                                     ${featuredCard.ctaText @ i18n}
                                     <svg class="align-middle s-${footerIcon}-white">
                                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#s-${featuredCard.linkType}-white"></use>
                                    </svg>
                                </span>

                                <!--/*WEB-10350 changed Svg position  - END */-->
                            </div>
                        </div>
                    </div>
                    <!-- mobile featured card -->
                    <div class="featured-card featured-card-right-panel ${properties.bgColor} card-mobile" style="height: 310px;">
                        <div class="card-header" style="background: url(${fbImg @ context='uri'}) no-repeat top left / cover;background-size: contain;min-height: 10%;">
                            <h3 class="text-white">${featuredCard.type}</h3>
                            <div class="card-icon ic_${featuredCard.linkType}-white"></div>
                        </div>
                        <div class="card-content">
                            <hr/>
                            <h4 class="text-white" data-sly-use.truncateText="${'/apps/bmc/components/content/resource-center/resource-center-results/truncateText.js' @ text=featuredCard.title, chars=95}">
                                ${truncateText.finalText}</h4>
                        </div>
                        <div class="featured-card-footer" >
                            <span class="card-footer-action" style="border-top-color:white;">
                                 <!--/* WEB-10350 changed Svg position  - STARt */-->
                                ${featuredCard.ctaText @ i18n}
                                <svg class="align-middle s-${footerIcon}-white">
                                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#s-${featuredCard.linkType}-white"></use>
                                </svg>
                                <!--/* WEB-10350 changed Svg position  - END */-->
                            </span>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <div id="resultItemsContainer"></div>
        <div class="rc-result-header-bottom">
            <div style="float: right;">
                <span class="pages-info">${'Results Page' @ i18n}</span>
                <div class="js-results-page inline-block bottom-paginator"></div>
            </div>
        </div>
        <div class="no-results mt2" hidden>
            <p>${properties.noResultLabel || "No results found. Try adjusting your filters." @ i18n}</p>
        </div>
        <div class="error-call mt2" hidden>
            <p>${properties.errorLabel || 'Oops, please try again. It looks like we may be experiencing some technical issues.' @ i18n}</p>
        </div>
    </div>
</div>

<script id="resultItemsTemplate" type="text/x-handlebars-template" data-sly-include="modules/resultItemsTemplate.html"></script>
