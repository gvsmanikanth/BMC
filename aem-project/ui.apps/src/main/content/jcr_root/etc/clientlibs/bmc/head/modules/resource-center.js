!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.noscope=e()}}(function(){return function e(t,r,s){function n(a,o){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return n(r?r:e)},u,u.exports,e,t,r,s)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}({1:[function(){ResourceCenterResults={init:function(){this.$component=$(".rc-result-component"),this.$container=$("#resultItemsContainer"),this.$errorCall=$(".error-call"),this.$noResults=$(".no-results"),this.$resultsInfo=$(".results-info"),this.$resultsPage=$(".js-results-page"),this.$rootPath=$("#rootPath").text(),this.$currentPage=0,this.$pageSize=$("#pageSize").text(),this.$totalPages=0,this.$totalItems=0,this.bindEvents(),$(document).ready(function(){$(".rc-result-header select").unwrap('<div class="decorator-select"></div>')})},bindEvents:function(){this.setClearEvents(),this.setRenderResultsEvents(),this.showError(),this.noResults(),this.setVideoCardEvents()},setClearEvents:function(){var e=this;this.$container.on("filterClearResultsEvent",function(){e.$totalPages=0,e.$totalItems=0,e.$container.html(""),e.$resultsInfo.html("Showing"),e.$resultsPage.html(""),e.$errorCall.attr("hidden",!0),e.$noResults.attr("hidden",!0)})},setPaginationEvents:function(){var e=this;$(".result-page").click(function(t){t.preventDefault();var r=$(this).text();">"==r?e.$currentPage++:e.$currentPage=r-1,e.$container.trigger("loadDataEvent")})},setVideoCardEvents:function(){$("a.rc-card-modal-youtube-video-player").on("click",function(e){e.preventDefault(),$.fancybox({width:getVideoHeightWidth_16X9().width,height:getVideoHeightWidth_16X9().height,href:this.href,aspectRatio:!0,type:"iframe",loop:!1,padding:0,autoSize:!0,overlayShow:!0,centerOnScroll:!0,iframe:{preload:!1}})})},setRenderResultsEvents:function(){var e=this;this.$container.on("filterResultsLoadedEvent",function(t,r){var s,n,i,a=$("#resultItemsTemplate").html(),o=0;if(a){for(s=Handlebars.compile(a),o;o<r.results.length;o+=1)i=r.results[o],i.analyticsAttributes=e.getAnalyticsAttributesList(i.metadata);n=s({items:r.results}),e.$container.append(n),e.$totalItems=r.pagination.totalMatches,e.$totalPages=r.pagination.numberOfPages;var l=e.$pageSize*e.$currentPage+1,c=r.results.length;if(e.$totalItems>0){for(e.$resultsInfo.text(e.formatString(e.$resultsInfo.data("template"),l,l+c-1,e.$totalItems)),k=0;k<e.$totalPages;k+=1)e.$resultsPage.append('<span><a href="#" class="result-page '+(e.$currentPage==k?"bold":"")+'">'+(k+1)+"</a></span>");e.$currentPage<e.$totalPages-1&&e.$resultsPage.append('<span><a class="result-page" href="#">></a></span>'),e.setPaginationEvents()}e.setVideoCardEvents()}})},getAnalyticsAttributesList:function(e){var t=0,r="";for(t;t<e.length;t+=1)r+="data-"+e[t].id+"='"+e[t].displayValue+"' ";return r},formatString:function(e){var t;for(t=0;t<arguments.length;t+=1)e=e.replace("{"+t+"}",arguments[t]);return e},showError:function(){var e=this;this.$container.on("showErrorMsgEvent",function(){e.$errorCall.removeAttr("hidden")})},noResults:function(){var e=this;this.$container.on("showNoResultsMsgEvent",function(){e.$noResults.removeAttr("hidden")})}},$(".rc-result-component").length&&ResourceCenterResults.init(),ResourceCenterFilters={init:function(){this.$component=$(".rc-filter-component"),this.$keywordSearch=$(".keyword-search input"),this.$filter=$(".filter-checkbox-item li"),this.$resultContainer=$("#resultItemsContainer"),this.bindEvents(),this.loadData(),this.$resizeTimer},bindEvents:function(){this.setResetFilterClickEvent(),this.setKeywordSearchEvent(),this.setFilterClickEvent(),this.setOrderByEvent(),this.loadDataEvent(),this.setResize(),this.initMobileMenuEvents()},setKeywordSearchEvent:function(){var e=this;this.$keywordSearch.on("keyup",function(){ResourceCenterResults.$currentPage=0,e.loadData()})},setFilterClickEvent:function(){var e=this;this.$filter.on("click",function(){$(this).hasClass("active")?($("#checkbox-"+this.id).attr("checked",!1),$(this).removeClass("active")):($("#checkbox-"+this.id).attr("checked",!0),$(this).addClass("active")),ResourceCenterResults.$currentPage=0,e.loadData(),e.updateHeader()}),$(".parent-filter").on("click",function(){var e='[data-name="'+$(this).attr("data-name")+'"]';"none"==$(".child-filter").find(e).first().css("display")?($(this).removeClass("rc-arrow-down"),$(this).addClass("rc-arrow-up")):($(this).removeClass("rc-arrow-up"),$(this).addClass("rc-arrow-down")),$(".child-filter").find(e).slideToggle()})},loadDataEvent:function(){var e=this;this.$resultContainer.on("loadDataEvent",function(){e.loadData()})},resetFilter:function(){$(".filter-checkbox-item").find("input[checked]").each(function(){$(this).attr("checked",!1),$("#"+this.id.substring(this.id.indexOf("-")+1)).removeClass("active")}),$(".keyword-search input").val(""),this.resetResults()},resetResults:function(){this.$resultContainer.trigger("filterClearResultsEvent")},setResetFilterClickEvent:function(){var e=this;$(".reset-btn").click(function(t){t.preventDefault(),e.resetFilter(),e.updateHeader(),e.loadData(),ResourceCenterResults.$currentPage=0})},setCloseFilterClickEvent:function(){var e=this;$(".cross-filter-close").on("click",function(){event.preventDefault();var t=$(this).attr("data-name");$("#checkbox-"+t).attr("checked",!1),$("#"+t).removeClass("active"),ResourceCenterResults.$currentPage=0,e.updateHeader(),e.loadData()})},updateHeader:function(){$(".js-filter-title").html(""),$(".filter-checkbox-item").find("input[checked]").each(function(){$(".js-filter-title").append('<span class="badge-filter-title">'+$("#"+$(this).attr("data-name")).text()+'<a class="cross-filter-close" href="#" style="padding-left: 6px;font-weight: 400;" data-name="'+$(this).attr("data-name")+'">X</a></span>')}),this.setCloseFilterClickEvent(),$(".js-filter-title span").size()>0?$(".empty-filter").attr("hidden",!0):$(".empty-filter").removeAttr("hidden");var e=$(".filter-checkbox-item").find("input[checked]").length;$("#filter-count").text(ResourceCenterResults.formatString($("#filter-count").data("template"),e>0?"("+e+")":""))},setOrderByEvent:function(){var e=this;$(".rc-sort-select").change(function(){ResourceCenterResults.$currentPage=0,e.loadData()})},buildUrl:function(){var e=this,t=ResourceCenterResults.$rootPath,r="/bin/contentapi/content?rootPath="+t,s="",n=new Map;if($(".pre-filter-option").each(function(){e.addFilterKeyValue(n,$(this).data("name"),$(this).data("value"))}),$(".filter-checkbox-item").find("input[checked]").each(function(){e.addFilterKeyValue(n,$(this).parent().data("name"),$(this).data("name"))}),n.forEach(function(e,t){s+="&"+t+"="+e}),$(".keyword-search").length>0){var a=$(".keyword-search").find("input").val().split(" ");for(i=0;i<a.length;i+=1)""!=a[i]&&(s+="&keyword="+a[i])}var o=$("#order_select option:selected").val();s+="&sortCriteria="+o;var l=ResourceCenterResults.$pageSize,c=ResourceCenterResults.$currentPage;return s+="&resultsPerPage="+l,s+="&pageIndex="+c,history.replaceState(null,null,"#"+s),r+s},addFilterKeyValue:function(e,t,r){var s="";s=e.has(t)?e.get(t)+","+r:r,e.set(t,s)},getRootPath:function(){var e=window.location.pathname,t=e.substring(0,e.lastIndexOf("/"));return t},loadData:function(){var e=this,t=this.buildUrl();$.ajax({url:t,type:"GET",success:function(t){t&&"string"==typeof t&&(t=JSON.parse(t)),0===t.results.length?(e.resetResults(),e.$resultContainer.trigger("showNoResultsMsgEvent")):e.loadResults(t)},error:function(){e.$resultContainer.trigger("showErrorMsgEvent")}})},loadResults:function(e){this.resetResults(),this.$resultContainer.trigger("filterResultsLoadedEvent",[e])},setResize:function(){var e=this;$(window).on("resize",function(){clearTimeout(e.resizeTimer),resizeTimer=setTimeout(function(){e.closeMobileMenu()},250)})},initMobileMenuEvents:function(){var e=this;$("#filter-count").text(ResourceCenterResults.formatString($("#filter-count").data("template"),"")),$(document).on("click",".filter-menu-btn",function(){$("#filter-menu").hasClass("filter-search-overlay")?$(".filter-search-overlay").addClass("on"):$("#filter-menu").addClass("filter-search-overlay on"),$("body").addClass("no-scroll"),$("#filterBodyOverlay").addClass("backgroundColor"),$(".filter-search-overlay #search_input").focus(),$(".filter-search-overlay").css({right:-1*$(".filter-search-overlay").width()}),$(".filter-search-overlay").animate({right:"0px"}),$("body").hasClass("scrolled-down")||$("body").hasClass("scrolled-up")?$(".filter-search-overlay").addClass("topHeader"):$(".filter-search-overlay").removeClass("topHeader"),$(".rc-filter-panel-group").removeClass("mb2")}),$(".filter_component_search_close").click(function(){e.closeMobileMenu()}),$(".filter-search-overlay").click(function(e){e.stopPropagation()}),$(".submit-btn").click(function(t){t.preventDefault(),e.closeMobileMenu()})},closeMobileMenu:function(){$(".filter-search-overlay").animate({right:-1*$(".filter-search-overlay").width()},function(){$(".filter-search-overlay").removeClass("filter-search-overlay on"),$("body").removeClass("no-scroll"),$("#filterBodyOverlay").removeClass("backgroundColor"),$(".filter-search-overlay #search_input").val(""),$(".filter-search-overlay").css("right","0px"),$(".rc-filter-panel-group").addClass("mb2")})}},$(".rc-filter-component").length&&ResourceCenterFilters.init()},{}]},{},[1])(1)});