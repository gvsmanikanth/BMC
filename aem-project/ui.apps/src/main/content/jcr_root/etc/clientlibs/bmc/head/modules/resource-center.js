!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.noscope=t()}}(function(){return function t(e,n,r){function s(o,a){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return s(n?n:t)},c,c.exports,t,e,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(){ResourceCenterFilters={init:function(){this.$component=$(".rc-filter-component"),this.$keywordSearch=$(".keyword-search input"),this.$filter=$(".filter-checkbox-item li"),this.$resultContainer=$("#resultItemsContainer"),this.$dataResults=[],this.bindEvents(),this.loadData()},bindEvents:function(){this.setResetFilterClickEvent(),this.setKeywordSearchEvent(),this.setFilterClickEvent(),this.setOrderByEvent()},setKeywordSearchEvent:function(){var t=this;this.$keywordSearch.on("keyup",function(){t.loadData()})},setFilterClickEvent:function(){var t=this;this.$filter.on("click",function(){$(this).hasClass("active")?($("#checkbox-"+this.id).attr("checked",!1),$(this).removeClass("active")):($("#checkbox-"+this.id).attr("checked",!0),$(this).addClass("active")),t.loadData(),t.updateHeader()})},setOrderByEvent:function(){var t=this;$(".rc-sort-select").change(function(){t.loadData()})},resetFilter:function(){this.resetResults()},resetResults:function(){this.$resultContainer.trigger("filterClearResultsEvent")},setResetFilterClickEvent:function(){var t=this;$(".reset-btn").click(function(e){e.preventDefault(),t.resetFilter(),t.updateHeader(),t.loadData()})},updateHeader:function(){$(".js-filter-title").html(""),$(".filter-checkbox-item").find("input[checked]").each(function(){$(".js-filter-title").append('<span class="badge-filter-title">'+$("#"+$(this).attr("data-name")).text()+"</span>")}),$(".js-filter-title span").size()>0?$(".empty-filter").attr("hidden",!0):$(".empty-filter").removeAttr("hidden")},buildUrl:function(){var t=this.getRootPath(),e="/bin/contentapi/content?rootPath="+t,n="";if($(".filter-checkbox-item").find("input[checked]").each(function(){n+="&filter="+$(this).attr("data-name")}),$(".keyword-search").length>0){var r=$(".keyword-search").find("input").val().split(" ");for(i=0;i<r.length;i+=1)""!=r[i]&&(n+="&keyword="+r[i])}var s=$("#order_select option:selected").val();return n+="&sortCriteria="+s,history.replaceState(null,null,"#"+n),e+n},getRootPath:function(){var t=window.location.pathname,e=t.substring(0,t.lastIndexOf("/"));return e},loadData:function(){var t=this,e=this.buildUrl();$.ajax({url:e,type:"GET",success:function(e){e&&"string"==typeof e&&(e=JSON.parse(e)),0===e.length?(t.resetResults(),t.$resultContainer.trigger("showNoResultsMsgEvent")):(t.$dataResults=e,t.loadResults(e))},error:function(){t.$resultContainer.trigger("showErrorMsgEvent")}})},loadResults:function(t){this.resetResults(),this.$resultContainer.trigger("filterResultsLoadedEvent",[t])}},$(".rc-filter-component").length&&ResourceCenterFilters.init(),ResourceCenterResults={init:function(){this.$component=$(".rc-result-component"),this.$container=$("#resultItemsContainer"),this.$errorCall=$(".error-call"),this.$noResults=$(".no-results"),this.$resultsInfo=$(".results-info"),this.$resultsPage=$(".js-results-page"),this.$resultPage=$(".result-page"),this.$currentPage=1,this.$currentItems=0,this.$totalItems=0,this.$dataResults=[],this.bindEvents(),setTimeout(function(){$(".rc-result-header select").unwrap('<div class="decorator-select"></div>')},1e3)},bindEvents:function(){this.setClearEvents(),this.setPaginationEvents(),this.setRenderResultsEvents(),this.showError(),this.noResults()},setClearEvents:function(){var t=this;this.$container.on("filterClearResultsEvent",function(){t.$currentPage=1,t.$currentItems=0,t.$totalItems=0,t.$container.html(""),t.$resultsPage.html(""),t.$errorCall.attr("hidden",!0),t.$noResults.attr("hidden",!0)})},setPaginationEvents:function(){this.$resultPage.click(function(){log.console($(this))})},setRenderResultsEvents:function(){var t=this;this.$container.on("filterResultsLoadedEvent",function(e,n){var r,s,i,o=$("#resultItemsTemplate").html(),a=0;if(o){for(r=Handlebars.compile(o),a;a<n.length;a+=1)i=n[a],i.linkType="ic-type-185980791"===i.type.id?"ic_play":"ic_download";for(s=r({items:n}),t.$container.append(s),t.$currentItems+=n.length,t.$totalItems+=n.length,t.$resultsInfo.text(t.formatString(t.$resultsInfo.data("template"),t.$currentItems*(t.$currentPage-1)+1,t.$currentItems,t.$totalItems)),k=0;k<t.$totalItems/10;k+=1)t.$resultsPage.append('<span><a class="result-page" href="#">'+(k+1)+"</a></span>");t.$resultsPage.append('<span><a class="result-page" href="#">></a></span>')}})},formatString:function(t){var e;for(e=0;e<arguments.length;e+=1)t=t.replace("{"+e+"}",arguments[e]);return t},showError:function(){var t=this;this.$container.on("showErrorMsgEvent",function(){t.$errorCall.removeAttr("hidden")})},noResults:function(){var t=this;this.$container.on("showNoResultsMsgEvent",function(){t.$noResults.removeAttr("hidden")})}},$(".rc-result-component").length&&ResourceCenterResults.init()},{}]},{},[1])(1)});