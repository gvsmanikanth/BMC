!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.noscope=e()}}(function(){return function e(t,n,r){function s(a,o){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return s(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(){ResourceCenterResults={init:function(){this.$component=$(".rc-result-component"),this.$container=$("#resultItemsContainer"),this.$errorCall=$(".error-call"),this.$noResults=$(".no-results"),this.$resultsInfo=$(".results-info"),this.$resultsPage=$(".js-results-page"),this.$rootPath=$("#rootPath").text(),this.$currentPage=0,this.$pageSize=$("#pageSize").text(),this.$totalPages=0,this.$totalItems=0,this.bindEvents(),setTimeout(function(){$(".rc-result-header select").unwrap('<div class="decorator-select"></div>')},1e3)},bindEvents:function(){this.setClearEvents(),this.setRenderResultsEvents(),this.showError(),this.noResults(),this.setVideoCardEvents()},setClearEvents:function(){var e=this;this.$container.on("filterClearResultsEvent",function(){e.$totalPages=0,e.$totalItems=0,e.$container.html(""),e.$resultsInfo.html("Showing"),e.$resultsPage.html(""),e.$errorCall.attr("hidden",!0),e.$noResults.attr("hidden",!0)})},setPaginationEvents:function(){var e=this;$(".result-page").click(function(t){t.preventDefault();var n=$(this).text();">"==n?e.$currentPage++:e.$currentPage=n-1,e.$container.trigger("loadDataEvent")})},setVideoCardEvents:function(){$("a.rc-card-modal-youtube-video-player").on("click",function(e){e.preventDefault(),$.fancybox({width:getVideoHeightWidth_16X9().width,height:getVideoHeightWidth_16X9().height,href:this.href,aspectRatio:!0,type:"iframe",loop:!1,padding:0,autoSize:!0,overlayShow:!0,centerOnScroll:!0,iframe:{preload:!1}})})},setRenderResultsEvents:function(){var e=this;this.$container.on("filterResultsLoadedEvent",function(t,n){var r,s,i=$("#resultItemsTemplate").html();if(i){r=Handlebars.compile(i),s=r({items:n.results}),e.$container.append(s),e.$totalItems=n.pagination.totalMatches,e.$totalPages=n.pagination.numberOfPages;var a=e.$pageSize*e.$currentPage+1,o=n.results.length;if(e.$totalItems>0){for(e.$resultsInfo.text(e.formatString(e.$resultsInfo.data("template"),a,a+o-1,e.$totalItems)),k=0;k<e.$totalPages;k+=1)e.$resultsPage.append('<span><a href="#" class="result-page '+(e.$currentPage==k?"bold":"")+'">'+(k+1)+"</a></span>");e.$currentPage<e.$totalPages-1&&e.$resultsPage.append('<span><a class="result-page" href="#">></a></span>'),e.setPaginationEvents(),e.setVideoCardEvents()}}})},formatString:function(e){var t;for(t=0;t<arguments.length;t+=1)e=e.replace("{"+t+"}",arguments[t]);return e},showError:function(){var e=this;this.$container.on("showErrorMsgEvent",function(){e.$errorCall.removeAttr("hidden")})},noResults:function(){var e=this;this.$container.on("showNoResultsMsgEvent",function(){e.$noResults.removeAttr("hidden")})}},$(".rc-result-component").length&&ResourceCenterResults.init(),ResourceCenterFilters={init:function(){this.$component=$(".rc-filter-component"),this.$keywordSearch=$(".keyword-search input"),this.$filter=$(".filter-checkbox-item li"),this.$resultContainer=$("#resultItemsContainer"),this.bindEvents(),this.loadData()},bindEvents:function(){this.setResetFilterClickEvent(),this.setKeywordSearchEvent(),this.setFilterClickEvent(),this.setOrderByEvent(),this.loadDataEvent()},setKeywordSearchEvent:function(){var e=this;this.$keywordSearch.on("keyup",function(){ResourceCenterResults.$currentPage=0,e.loadData()})},setFilterClickEvent:function(){var e=this;this.$filter.on("click",function(){$(this).hasClass("active")?($("#checkbox-"+this.id).attr("checked",!1),$(this).removeClass("active")):($("#checkbox-"+this.id).attr("checked",!0),$(this).addClass("active")),ResourceCenterResults.$currentPage=0,e.loadData(),e.updateHeader()})},loadDataEvent:function(){var e=this;this.$resultContainer.on("loadDataEvent",function(){e.loadData()})},resetFilter:function(){$(".filter-checkbox-item").find("input[checked]").each(function(){$(this).attr("checked",!1),$("#"+this.id.substring(this.id.indexOf("-")+1)).removeClass("active")}),$(".keyword-search input").val(""),this.resetResults()},resetResults:function(){this.$resultContainer.trigger("filterClearResultsEvent")},setResetFilterClickEvent:function(){var e=this;$(".reset-btn").click(function(t){t.preventDefault(),e.resetFilter(),e.updateHeader(),e.loadData(),ResourceCenterResults.$currentPage=0})},updateHeader:function(){$(".js-filter-title").html(""),$(".filter-checkbox-item").find("input[checked]").each(function(){$(".js-filter-title").append('<span class="badge-filter-title">'+$("#"+$(this).attr("data-name")).text()+"</span>")}),$(".js-filter-title span").size()>0?$(".empty-filter").attr("hidden",!0):$(".empty-filter").removeAttr("hidden")},setOrderByEvent:function(){var e=this;$(".rc-sort-select").change(function(){ResourceCenterResults.$currentPage=0,e.loadData()})},buildUrl:function(){var e=ResourceCenterResults.$rootPath,t="/bin/contentapi/content?rootPath="+e,n="";if($(".pre-filter-option").each(function(){n+="&filter="+$(this).html()}),$(".filter-checkbox-item").find("input[checked]").each(function(){n+="&filter="+$(this).attr("data-name")}),$(".keyword-search").length>0){var r=$(".keyword-search").find("input").val().split(" ");for(i=0;i<r.length;i+=1)""!=r[i]&&(n+="&keyword="+r[i])}var s=$("#order_select option:selected").val();n+="&sortCriteria="+s;var a=ResourceCenterResults.$pageSize,o=ResourceCenterResults.$currentPage;return n+="&resultsPerPage="+a,n+="&pageIndex="+o,history.replaceState(null,null,"#"+n),t+n},getRootPath:function(){var e=window.location.pathname,t=e.substring(0,e.lastIndexOf("/"));return t},loadData:function(){var e=this,t=this.buildUrl();$.ajax({url:t,type:"GET",success:function(t){t&&"string"==typeof t&&(t=JSON.parse(t)),0===t.results.length?(e.resetResults(),e.$resultContainer.trigger("showNoResultsMsgEvent")):e.loadResults(t)},error:function(){e.$resultContainer.trigger("showErrorMsgEvent")}})},loadResults:function(e){this.resetResults(),this.$resultContainer.trigger("filterResultsLoadedEvent",[e])}},$(".rc-filter-component").length&&ResourceCenterFilters.init()},{}]},{},[1])(1)});