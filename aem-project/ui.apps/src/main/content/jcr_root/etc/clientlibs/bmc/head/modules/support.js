!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.noscope=e()}}(function(){return function e(t,n,s){function o(i,r){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!r&&u)return u(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n?n:e)},c,c.exports,e,t,n,s)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<s.length;i++)o(s[i]);return o}({1:[function(e){var t=e("./menu"),n=e("./menu-adapter"),s=s||{};!function(e){function o(){s.AuthenticatedBlocks.init(),s.GettingStartedCarousel.init(),s.Controls.init(),s.Alerts.init(),s.ToggleSearchAreas.init(),s.Menu.init(),s.MobileToggleHeader.init(),s.SlideInSupportChatButton.init()}var a,r,u,l=e(".js-issues-container"),c=e(".js-contracts-select"),d=(e(".action-detail-group"),e(".action-details")),p=e(".js-account-error"),h=e("a.alerts.js-fancyDialog").parent("li.action");s.Helpers={bmcSupportLoaded:function(){return"undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.support?!0:!1},bmcAlertsEnabled:function(){return"undefined"!=typeof bmcMeta.support.enableAlerts&&1==bmcMeta.support.enableAlerts?!0:(s.Helpers.hideAlertsButton(),!1)},hideAlertsButton:function(){e(h).hide()},showAlertsButton:function(){e(h).show()},isAuthenticated:function(){return"undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.user&&"undefined"!=typeof bmcMeta.user.isSupportAuthenticated&&bmcMeta.user.isSupportAuthenticated},isOnSupportLandingPage:function(){if(s.Helpers.bmcSupportLoaded()&&"undefined"!=typeof bmcMeta.page&&"string"==typeof bmcMeta.page.longName){var e=/support/;if(null!==bmcMeta.page.longName.match(e))return!0}return!1},getAccountErrorMessage:function(e,t){if("issue"!=e)throw new Error("Use valid errorType when accountError");var n="caseErrorMessages",o=s.Helpers.bmcSupportLoaded()&&void 0!==bmcMeta.support[n]&&void 0!==bmcMeta.support[n][t]?bmcMeta.support[n][t]:void 0;return o},accountError:function(t,n){s.Controls.actions.resetLoadAccountError();var o=s.Helpers.getAccountErrorMessage(t,n);"undefined"===o&&(o=s.Helpers.getAccountErrorMessage(t,"DEFAULT_ERROR_MESSAGE")),"issue"==t&&e(d).show(),e(l).hide(),"string"==typeof o&&o.length>0&&e(p).show().html(o)},parseSupportLongDate:function(e){var t=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3}\D)/,n=t.exec(e);if(!n)return null;try{return new Date(n[1],parseInt(n[2])-1,n[3],n[4],n[5],n[6])}catch(s){return null}},pad:function(e,t,n){return n=n||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(n)+e},padToTwoDigits:function(e){return s.Helpers.pad(e,2)},getURLWithQueryParam:function(e,t,n){var s=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(s)?e.replace(s,"$1"+t+"="+n+"$2"):e+o+t+"="+n},baseToString:function(e){return null==e?"":e+""},capitalize:function(e){return e=s.Helpers.baseToString(e),e&&e.charAt(0).toUpperCase()+e.slice(1)},makeFullName:function(e,t){return s.Helpers.capitalize(t.toLowerCase())+", "+s.Helpers.capitalize(e.toLowerCase())}},s.AuthenticatedBlocks={init:function(){var t=s.Helpers.isAuthenticated()?"support-logged-in":"support-logged-out";e("body").addClass(t)}},s.Issues={tableRowsSelector:".js-support-issues-rows",showMoreSelector:".js-support-issues-show-more",issueTableWrapperSelector:".js-issue-table-wrapper",hiddenClass:"hidden",showBatchQty:10,loadingIssuesContainerSelector:".js-loading-issues-container",noIssuesContainerSelector:".js-no-issues-container",hasIssuesContainerSelector:".js-issues-container",loadingFailedIssuesContainerSelector:".js-failed-loading-issues-container",hideOnInitClass:"support-hide-while-loading",getModuleStateContainerSelectors:function(){return{load:s.Issues.loadingIssuesContainerSelector,hasIssues:s.Issues.hasIssuesContainerSelector,noIssues:s.Issues.noIssuesContainerSelector,failed:s.Issues.loadingFailedIssuesContainerSelector}},loadViaUrl:function(t){s.Issues.actions.showStateContainer("load"),e.getJSON(t,function(t){if("undefined"!=typeof t.Cases){var n=e.map(t.Cases,s.Issues.mapToIssueFormat).sort(function(e,t){return e.lastUpdatedRawDate&&t.lastUpdatedRawDate&&e.lastUpdatedRawDate>t.lastUpdatedRawDate?-1:e.lastUpdatedRawDate&&t.lastUpdatedRawDate&&e.lastUpdatedRawDate<t.lastUpdatedRawDate?1:0}).slice(0,20);s.Issues.actions.removeAllIssues(),s.Issues.loadIssues(n)}else void 0!==typeof t.errorCode&&(s.Helpers.accountError("issue",t.errorCode),s.Issues.actions.showStateContainer())}).fail(function(){s.Helpers.accountError("issue","DEFAULT_ERROR_MESSAGE"),s.Issues.actions.showStateContainer()}).always(function(){s.Controls.actions.finishedLoading()})},mapToIssueFormat:function(e){var t=s.Helpers.makeFullName(e.ContactFirstName,e.ContactLastName),n=s.Helpers.padToTwoDigits,o=s.Helpers.parseSupportLongDate(e.LastModifiedDate),a=s.Helpers.parseSupportLongDate(e.CreatedDate),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=n(o.getDate())+"-"+n(i[o.getMonth()])+"-"+o.getFullYear(),u=n(a.getDate())+"-"+n(i[a.getMonth()])+"-"+a.getFullYear();return{id:e.Id,caseNumber:e.CaseNumber,status:e.Status,product:e.ProductName,createdDate:u,lastUpdatedOriginalDate:e.LastModifiedDate,lastUpdatedRawDate:o,lastUpdatedFormattedDate:r,summary:e.Subject,submitter:t}},loadIssues:function(e){e.length?(s.Issues.actions.addIssues(e),s.Issues.actions.showStateContainer("hasIssues")):s.Issues.actions.showStateContainer("noIssues")},loadSelectedIssue:function(){var t=e(c).find(":selected").data("contract-id")||"";this.loadViaUrl("undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.cdxLocal&&bmcMeta.cdxLocal?"./test/"+t+".json":"/templates/RestGetSupportOpenIssues?contractID="+t)},actions:{addIssues:function(t){e.each(t,function(e,t){s.Issues.actions.addIssue(t)})},addIssue:function(t){var n={id:t.caseNumber,summary:t.summary,product:t.product,createdDate:t.createdDate,lastUpdated:t.lastUpdatedFormattedDate,status:t.status,submitter:t.submitter},o=[];for(key in n)"id"===key?("undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.support&&(a="undefined"!=typeof bmcMeta.support.issueEnvironment?bmcMeta.support.issueEnvironment:"",r="undefined"!=typeof bmcMeta.support.issuePath?bmcMeta.support.issuePath:""),o.push('<td><a href="'+s.Issues.buildSupportIssueUrl(a,r,t.id)+'">'+n[key]+"</a></td>")):o.push("<td>"+n[key]+"</td>");var i='<tr data-issue-id="'+n.id+'">'+o.join("")+"</tr>",u=e(s.Issues.issueTableWrapperSelector).find("table tbody");e(u).append(i)},showStateContainer:function(t){var n=s.Issues.getModuleStateContainerSelectors();"undefined"!=typeof n[t]&&e(n[t]).fadeIn();for(state in n)state!==t&&e(n[state]).hide()},removeAllIssues:function(){var t=e(s.Issues.issueTableWrapperSelector).find("table tbody tr");t.remove()},showIssues:function(){var t=e(s.Issues.tableRowsSelector).find("tr.hidden"),n=e(t).slice(0,s.Issues.showBatchQty),o=t.length-n.length;n.length>0?s.Issues.actions.show(n):s.Issues.actions.viewAll(),o<=s.Issues.showBatchQty&&s.Issues.actions.allShown()},show:function(t){e(t).removeClass(s.Issues.hiddenClass)},hide:function(t){e(t).addClass(s.Issues.hiddenClass)},allShown:function(){var t=e(s.Issues.showMoreSelector),n=t.data("view-all-label");t.html(n)},viewAll:function(){var t=e(s.Issues.showMoreSelector).data("view-all-url");t&&(document.location=t)},finishedLoading:function(){e(".js-account-details-loading").hide(),e(".support-no-issues").hide().removeClass("support-hide-while-loading"),e(".action-details").removeClass("support-hide-while-loading")}},buildSupportIssueUrl:function(e,t,n){return e+t+n}},s.Controls={actions:{finishedLoading:function(){e(".js-account-details-loading").hide(),e(".support-no-issues").hide().removeClass("support-hide-while-loading"),e(".action-details").removeClass("support-hide-while-loading")},resetLoadAccountError:function(){e(p).hide()}},issueShowMore:function(){e(s.Issues.showMoreSelector).on("click",function(e){e.preventDefault(),s.Issues.actions.showIssues(s.Issues.showBatchQty)})},loadData:function(){s.Issues.loadViaUrl("undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.cdxLocal&&bmcMeta.cdxLocal?"./test/issues.json":"/bin/supportcases")},employeeCheck:function(){if("undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.user&&"undefined"!=typeof bmcMeta.user.email){var t=bmcMeta.user.email;if(t.indexOf("@bmc.com")>-1&&-1==t.indexOf("_")){var n='<section class="layout-full-bleed support-promo support-message-box"><p class="align-center"><strong>You are currently logged in with your BMC employee internal ID on the external www.bmc.com/support site.</strong><br>Please <a href="/available/sso-default-login.html">login</a> using an account that you have registered with an active Support ID if you would like to access BMC Customer Support applications i.e. Product Downloads, eFix, Case Management.</p></section>';e(n).insertAfter(".supportcentral-news")}}},init:function(){s.Helpers.isAuthenticated()&&s.Helpers.isOnSupportLandingPage()&&(this.issueShowMore(),this.loadData(),this.employeeCheck())}},s.Alerts={init:function(){var t,n;this.dialog=e("#confirm"),this.trigger=e(".js-fancyDialog"),this.confirmButton="Close",this.confirmCheckbox="Don't show this again",t=function(e){e&&e.length>0?(u=e,this.alertButton(),this.checkCookies(this.messages)):this.trigger.parent().remove()}.bind(this),s.Helpers.bmcSupportLoaded()&&s.Helpers.bmcAlertsEnabled()&&(n="undefined"!=typeof bmcMeta.cdxLocal&&bmcMeta.cdxLocal?"test/alertMessages.json":"undefined"!=typeof bmcMeta.support.alertsUrl&&bmcMeta.support.alertsUrl?bmcMeta.support.alertsUrl:"/templates/ServiceSupportAlertsJSON",this.loadMessagesFromUrl(t,n))},loadMessagesFromGlobal:function(e){var t;s.Helpers.bmcSupportLoaded()&&"undefined"!=typeof bmcMeta.support.alertMessages&&(t=bmcMeta.support.alertMessages),"function"==typeof e&&e(t)},loadMessagesFromUrl:function(t,n){e.ajax(n).done(function(e){"function"==typeof t&&t(e.supportAlertMessages)}).fail(function(){"function"==typeof t&&t(null)})},openAlert:function(){this.fancyConfig(this.messages)},alertButton:function(){this.trigger.on("click",e.proxy(this.openAlert,this))},checkCookies:function(){var t=!1;for(i=0;i<u.length;i++)void 0===e.cookie(u[i].id)&&(t=!0);t&&this.openAlert()},fancyConfig:function(){e.fancybox(this.dialog,{autoWidth:!1,minHeight:400,maxWidth:745,padding:0,tpl:{wrap:'<div class="fancybox-wrap fancybox-dialog" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-title">Alert Notifications</div><div class="fancybox-inner"></div></div></div></div>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>'},helpers:{overlay:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!0}},beforeShow:function(){for(this.content.append("<div class='messages'></div><div class='action'></div>"),this.messages=this.content.find(".messages"),i=0;i<u.length;i++)this.messages.append("<h3 class='title'>"+u[i].title+"</h3>"),this.messages.append("<p class='message'>"+u[i].message+"</p>"),u[i].link&&this.messages.append('<p class="link"><a href="'+u[i].url+'">'+u[i].link+"</a></p>");this.messages.append('<p style="text-align:right"><input type="button" class="btn action-button" value="'+s.Alerts.confirmButton+'"/></p>'),this.content.find(".action").append('<input type="button" class="btn action-button" value="'+s.Alerts.confirmButton+'"/><label class="action-checkbox"><input type="checkbox" />'+s.Alerts.confirmCheckbox+"</label>")},afterShow:function(){var t=this.content.find(".action-button"),n=this.content.find(".action .action-button"),s=this.content.find(".action-checkbox input"),o=e(".fancybox-dialog .fancybox-close");closeDialog=function(){if(s.is(":checked"))for(i=0;i<u.length;i++)e.cookie(u[i].id,u[i].id,{expires:365,path:"/",domain:".bmc.com"});e.fancybox.close()},this.messages[0].scrollHeight>this.messages.innerHeight()&&(n.prop("disabled",!0),this.messages.bind("scroll",function(){e(this)[0].scrollHeight-e(this).scrollTop()<=e(this).innerHeight()&&n.prop("disabled",!1)})),t.on("click",function(){closeDialog()}),o.on("click",function(){closeDialog()})},afterClose:function(){this.content.html("")}})}},s.GettingStartedCarousel={init:function(){e(".support-getting-started-topics.carousel .topics").owlCarousel({items:1,nav:!1})}},s.ToggleSearchAreas={searchAreasSelector:".js-support-search-area",toggleActionSelector:".js-support-search-toggle",toggleActionLabelSelector:".js-support-search-toggle",toggleLabelText:{expand:"More Resources",collapse:"Collapse"},togglableAreas:null,elementsShown:!1,hideLastQty:4,init:function(){0!==e(".js-support-search-toggle-extra").length&&(this.findTogglableElements(),this.addHandlers(),this.actions.hide(this.helpers.hideElementsInstant),this.actions.updateLabel(this.toggleLabelText.expand))},helpers:{showElementsFade:function(t){return e(t).fadeIn()},showElementsInstant:function(t){return e(t).show()},hideElementsFade:function(t){return e(t).fadeOut()},hideElementsInstant:function(t){return e(t).hide()}},findTogglableElements:function(){var t=e(this.searchAreasSelector),n=t.length-this.hideLastQty,s=t.length;this.togglableAreas=t.slice(n,s)},actions:{toggle:function(){s.ToggleSearchAreas.elementsShown?(this.hide(s.ToggleSearchAreas.helpers.hideElementsFade),this.updateLabel(s.ToggleSearchAreas.toggleLabelText.expand)):(this.show(s.ToggleSearchAreas.helpers.showElementsFade),this.updateLabel(s.ToggleSearchAreas.toggleLabelText.collapse))},show:function(t){"function"==typeof t&&t(e(s.ToggleSearchAreas.togglableAreas)),s.ToggleSearchAreas.elementsShown=!0},hide:function(t){"function"==typeof t&&t(e(s.ToggleSearchAreas.togglableAreas)),s.ToggleSearchAreas.elementsShown=!1},updateLabel:function(t){e(s.ToggleSearchAreas.toggleActionLabelSelector).html(t)}},addHandlers:function(){e(this.toggleActionSelector).on("click",function(e){e.preventDefault(),this.actions.toggle()}.bind(this))}},s.Menu={desktopBreakpoint:960,touchHandlers:function(t){var n=t.menu;e(n.subMenuTriggerSelector).on({click:function(t){e(n.subMenuSelector).has(e(t.target))||t.preventDefault();var s=n.findMenuFromTarget(t.target);s.hasClass(n.expandedClass)?n.collapseMenu(s):(n.collapseAllSubMenus(),n.expandMenu(s))}})},noTouchHandlers:function(t){var n=t.menu;e(n.subMenuTriggerSelector).on({mouseenter:function(e){n.collapseAllSubMenus();var t=n.findMenuFromTarget(e.target);n.expandMenu(t)},mouseleave:function(){n.collapseAllSubMenus()}})},collapseOutsideHandler:function(t){var n=t.menu,s=e(n.menuElement);e("body").on("click",function(t){e(t.target).parents().addBack().is(s)||n.collapseAllSubMenus()})},destoryHandlers:function(t){var n=t.menu;e(n.subMenuTriggerSelector).off()},getMenu:function(){var n=t.generateMenu({menuElement:e(".support-menu")});return n},getAdapters:function(t){var s=this,o=n.generateMenuAdapter(t,{handlers:[{setup:s.touchHandlers,destroy:s.destoryHandlers},{setup:s.collapseOutsideHandler,destroy:s.destoryHandlers}],init:function(t){e(t.menu.menuElement).addClass("desktop")},teardown:function(t){e(t.menu.menuElement).removeClass("desktop"),t.menu.collapseAllSubMenus()}}),a=n.generateMenuAdapter(t,{handlers:[{setup:s.touchHandlers,destroy:function(e){return s.destoryHandlers(e)}}],init:function(t){e(t.menu.menuElement).addClass("mobile")},teardown:function(t){e(t.menu.menuElement).removeClass("mobile"),t.menu.collapseAllSubMenus()}}),i={mobile:a,desktop:o};return i},getAdapterManager:function(){var e=generateMenuAdapterManager();return e},init:function(){var t=this.getMenu(),n=this.getAdapters(t),o=this.getAdapterManager(t,n),a=function(){return Modernizr.mq("(min-width: "+s.Menu.desktopBreakpoint+"px)")||e(window).width()>=s.Menu.desktopBreakpoint},i=function(){return!a()};o.addCondition(function(){return a()},n.desktop),o.addCondition(function(){return i()},n.mobile),o.init()}},s.MobileToggleHeader={baseHeight:null,maxHeight:1500,breakpointToggle:960,actions:{open:function(){e(".support-header").addClass("expanded"),e(".support-header").css("max-height","1200px")},close:function(){this.setHeightAsBaseHeight()},setHeightAsBaseHeight:function(){e(".support-header").css("max-height",s.MobileToggleHeader.baseHeight+"px"),e("html").hasClass("oldie")&&e(".support-header").trigger("transitionend")},applyIfMobile:function(){var t=Modernizr.mq("(min-width: "+s.MobileToggleHeader.breakpointToggle+"px)")||e(window).width()>=s.Menu.desktopBreakpoint;t?(e(".support-header").css("max-height",""),e(".support-header").removeClass("expanded")):e(".support-header").hasClass("expanded")?this.open():this.close()}},calcBaseHeight:function(){this.baseHeight=90},addHandlers:function(){e(".js-toggle-open-header").on("click",function(){e(".support-header").hasClass("expanded")?s.MobileToggleHeader.actions.close():s.MobileToggleHeader.actions.open()}),e(".support-header").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){(e(".support-header").height()===s.MobileToggleHeader.baseHeight||e("html").hasClass("oldie"))&&e(".support-header").removeClass("expanded")}),e(window).on("resize",function(){s.MobileToggleHeader.actions.applyIfMobile()})},init:function(){var e=this;window.setTimeout(function(){e.calcBaseHeight(),e.addHandlers(),e.actions.applyIfMobile()},0)}},s.SlideInSupportChatButton={init:function(){var t=e(".support-chat-now, .chat-now-link");t.length&&t.addClass("on-screen")}},e(o)}(jQuery)},{"./menu":3,"./menu-adapter":2}],2:[function(e,t,n){var s=function(){var e={label:"",menu:null,"interface":"touch",handlers:[],setupHandlers:function(){var e=this;$.each(this.handlers,function(t,n){n.setup(e)})},destroyHandlers:function(){var e=this;$.each(this.handlers,function(t,n){n.destroy(e)})},teardown:function(){},init:function(){}};return function(t,n){var s=$.extend({},e,n,{menu:t,init:function(e){t.init(),this["interface"]=e,this.setupHandlers(),"function"==typeof n.init&&n.init(this)},teardown:function(){this.destroyHandlers(),"function"==typeof n.teardown&&n.teardown(this)}});return s}}();n.generateMenuAdapter=s},{}],3:[function(e,t,n){var s=function(){var e={menuElement:$(".menu"),subMenuSelector:".sub-menu",expandedClass:"expanded",subMenuTriggerSelector:".js-show-sub-trigger",expandMenu:function(e){$(e).addClass(this.expandedClass)},collapseMenu:function(e){$(e).removeClass(this.expandedClass)},collapseAllSubMenus:function(){var e=this;this.menuElement.find(this.subMenuSelector).each(function(t,n){e.collapseMenu(n)})},findMenuFromTarget:function(e){var t=$(e).parent(this.subMenuTriggerSelector).addBack(this.subMenuTriggerSelector),n=t.find(this.subMenuSelector);return n},init:function(){}};return function(t){return $.extend({},e,t)}}();n.generateMenu=s},{}]},{},[1])(1)});