!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.noscope=e()}}(function(){return function e(t,s,n){function o(i,r){if(!s[i]){if(!t[i]){var u="function"==typeof require&&require;if(!r&&u)return u(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=s[i]={exports:{}};t[i][0].call(c.exports,function(e){var s=t[i][1][e];return o(s?s:e)},c,c.exports,e,t,s,n)}return s[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e){var t=e("./menu"),s=e("./menu-adapter"),n=n||{};!function(e){function o(){n.AuthenticatedBlocks.init(),n.GettingStartedCarousel.init(),n.Controls.init(),n.Alerts.init(),n.ToggleSearchAreas.init(),n.Menu.init(),n.MobileToggleHeader.init(),n.SlideInSupportChatButton.init()}var a,r,u,l,c=e(".js-issues-container"),d=e(".js-contracts-select"),p=(e(".action-detail-group"),e(".action-details")),h=e(".js-account-error"),f=e("a.alerts.js-fancyDialog").parent("li.action");n.Helpers={bmcSupportLoaded:function(){return"undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.support?!0:!1},bmcAlertsEnabled:function(){return"undefined"!=typeof bmcMeta.support.enableAlerts&&1==bmcMeta.support.enableAlerts?!0:(n.Helpers.hideAlertsButton(),!1)},hideAlertsButton:function(){e(f).hide()},showAlertsButton:function(){e(f).show()},isAuthenticated:function(){return"undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.user&&"undefined"!=typeof bmcMeta.user.isSupportAuthenticated&&bmcMeta.user.isSupportAuthenticated},isOnSupportLandingPage:function(){if(n.Helpers.bmcSupportLoaded()&&"undefined"!=typeof bmcMeta.page&&"string"==typeof bmcMeta.page.longName){var e=/support/;if(null!==bmcMeta.page.longName.match(e))return!0}return!1},getAccountErrorMessage:function(e,t){if("issue"!=e)throw new Error("Use valid errorType when accountError");var s="caseErrorMessages",o=n.Helpers.bmcSupportLoaded()&&void 0!==bmcMeta.support[s]&&void 0!==bmcMeta.support[s][t]?bmcMeta.support[s][t]:void 0;return o},accountError:function(t,s){n.Controls.actions.resetLoadAccountError();var o=n.Helpers.getAccountErrorMessage(t,s);"undefined"===o&&(o=n.Helpers.getAccountErrorMessage(t,"DEFAULT_ERROR_MESSAGE")),"issue"==t&&e(p).show(),e(c).hide(),"string"==typeof o&&o.length>0&&e(h).show().html(o)},parseSupportLongDate:function(e){var t=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3}\D)/,s=t.exec(e);if(!s)return null;try{return new Date(s[1],parseInt(s[2])-1,s[3],s[4],s[5],s[6])}catch(n){return null}},pad:function(e,t,s){return s=s||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(s)+e},padToTwoDigits:function(e){return n.Helpers.pad(e,2)},getURLWithQueryParam:function(e,t,s){var n=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(n)?e.replace(n,"$1"+t+"="+s+"$2"):e+o+t+"="+s},baseToString:function(e){return null==e?"":e+""},capitalize:function(e){return e=n.Helpers.baseToString(e),e&&e.charAt(0).toUpperCase()+e.slice(1)},makeFullName:function(e,t){return n.Helpers.capitalize(t.toLowerCase())+", "+n.Helpers.capitalize(e.toLowerCase())}},n.AuthenticatedBlocks={init:function(){var t=n.Helpers.isAuthenticated()?"support-logged-in":"support-logged-out";e("body").addClass(t)}},n.Issues={tableRowsSelector:".js-support-issues-rows",showMoreSelector:".js-support-issues-show-more",issueTableWrapperSelector:".js-issue-table-wrapper",hiddenClass:"hidden",showBatchQty:10,loadingIssuesContainerSelector:".js-loading-issues-container",noIssuesContainerSelector:".js-no-issues-container",hasIssuesContainerSelector:".js-issues-container",loadingFailedIssuesContainerSelector:".js-failed-loading-issues-container",hideOnInitClass:"support-hide-while-loading",getModuleStateContainerSelectors:function(){return{load:n.Issues.loadingIssuesContainerSelector,hasIssues:n.Issues.hasIssuesContainerSelector,noIssues:n.Issues.noIssuesContainerSelector,failed:n.Issues.loadingFailedIssuesContainerSelector}},loadViaUrl:function(t){n.Issues.actions.showStateContainer("load"),e.getJSON(t,function(t){if("undefined"!=typeof t.Cases){var s=e.map(t.Cases,n.Issues.mapToIssueFormat).sort(function(e,t){return e.lastUpdatedRawDate&&t.lastUpdatedRawDate&&e.lastUpdatedRawDate>t.lastUpdatedRawDate?-1:e.lastUpdatedRawDate&&t.lastUpdatedRawDate&&e.lastUpdatedRawDate<t.lastUpdatedRawDate?1:0}).slice(0,20);n.Issues.actions.removeAllIssues(),n.Issues.loadIssues(s)}else void 0!==typeof t.errorCode&&(n.Helpers.accountError("issue",t.errorCode),n.Issues.actions.showStateContainer())}).fail(function(){n.Helpers.accountError("issue","DEFAULT_ERROR_MESSAGE"),n.Issues.actions.showStateContainer()}).always(function(){n.Controls.actions.finishedLoading()})},mapToIssueFormat:function(e){var t=n.Helpers.makeFullName(e.ContactFirstName,e.ContactLastName),s=n.Helpers.padToTwoDigits,o=n.Helpers.parseSupportLongDate(e.LastModifiedDate),a=n.Helpers.parseSupportLongDate(e.CreatedDate),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=s(o.getDate())+"-"+s(i[o.getMonth()])+"-"+o.getFullYear(),u=s(a.getDate())+"-"+s(i[a.getMonth()])+"-"+a.getFullYear();return{id:e.Id,caseNumber:e.CaseNumber,status:e.Status,product:e.ProductName,createdDate:u,lastUpdatedOriginalDate:e.LastModifiedDate,lastUpdatedRawDate:o,lastUpdatedFormattedDate:r,summary:e.Subject,submitter:t}},loadIssues:function(e){e.length?(n.Issues.actions.addIssues(e),n.Issues.actions.showStateContainer("hasIssues")):n.Issues.actions.showStateContainer("noIssues")},loadSelectedIssue:function(){var t=e(d).find(":selected").data("contract-id")||"";this.loadViaUrl("undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.cdxLocal&&bmcMeta.cdxLocal?"./test/"+t+".json":"/templates/RestGetSupportOpenIssues?contractID="+t)},actions:{addIssues:function(t){e.each(t,function(e,t){n.Issues.actions.addIssue(t)})},addIssue:function(t){var s={id:t.caseNumber,summary:t.summary,product:t.product,createdDate:t.createdDate,lastUpdated:t.lastUpdatedFormattedDate,status:t.status,submitter:t.submitter},o=[];for(key in s)"id"===key?("undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.support&&(a="undefined"!=typeof bmcMeta.support.issueEnvironment?bmcMeta.support.issueEnvironment:"",r="undefined"!=typeof bmcMeta.support.issuePath?bmcMeta.support.issuePath:"",u="undefined"!=typeof bmcMeta.support.draftIssuePath?bmcMeta.support.draftIssuePath:""),o.push("Draft"==t.status?'<td><a href="'+n.Issues.buildSupportIssueUrl(a,u,t.id)+'">'+s[key]+"</a></td>":'<td><a href="'+n.Issues.buildSupportIssueUrl(a,r,t.id)+'">'+s[key]+"</a></td>")):o.push("<td>"+s[key]+"</td>");var i='<tr data-issue-id="'+s.id+'">'+o.join("")+"</tr>",l=e(n.Issues.issueTableWrapperSelector).find("table tbody");e(l).append(i)},showStateContainer:function(t){var s=n.Issues.getModuleStateContainerSelectors();"undefined"!=typeof s[t]&&e(s[t]).fadeIn();for(state in s)state!==t&&e(s[state]).hide()},removeAllIssues:function(){var t=e(n.Issues.issueTableWrapperSelector).find("table tbody tr");t.remove()},showIssues:function(){var t=e(n.Issues.tableRowsSelector).find("tr.hidden"),s=e(t).slice(0,n.Issues.showBatchQty),o=t.length-s.length;s.length>0?n.Issues.actions.show(s):n.Issues.actions.viewAll(),o<=n.Issues.showBatchQty&&n.Issues.actions.allShown()},show:function(t){e(t).removeClass(n.Issues.hiddenClass)},hide:function(t){e(t).addClass(n.Issues.hiddenClass)},allShown:function(){var t=e(n.Issues.showMoreSelector),s=t.data("view-all-label");t.html(s)},viewAll:function(){var t=e(n.Issues.showMoreSelector).data("view-all-url");t&&(document.location=t)},finishedLoading:function(){e(".js-account-details-loading").hide(),e(".support-no-issues").hide().removeClass("support-hide-while-loading"),e(".action-details").removeClass("support-hide-while-loading")}},buildSupportIssueUrl:function(e,t,s){return e+t+s}},n.Controls={actions:{finishedLoading:function(){e(".js-account-details-loading").hide(),e(".support-no-issues").hide().removeClass("support-hide-while-loading"),e(".action-details").removeClass("support-hide-while-loading")},resetLoadAccountError:function(){e(h).hide()}},issueShowMore:function(){e(n.Issues.showMoreSelector).on("click",function(e){e.preventDefault(),n.Issues.actions.showIssues(n.Issues.showBatchQty)})},loadData:function(){n.Issues.loadViaUrl("undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.cdxLocal&&bmcMeta.cdxLocal?"./test/issues.json":"/bin/supportcases")},employeeCheck:function(){if("undefined"!=typeof bmcMeta&&"undefined"!=typeof bmcMeta.user&&"undefined"!=typeof bmcMeta.user.email){var t=bmcMeta.user.email;if(t.indexOf("@bmc.com")>-1&&-1==t.indexOf("_")){var s='<section class="layout-full-bleed support-promo support-message-box"><p class="align-center"><strong>You are currently logged in with your BMC employee internal ID on the external www.bmc.com/support site.</strong><br>Please <a href="/available/sso-default-login.html">login</a> using an account that you have registered with an active Support ID if you would like to access BMC Customer Support applications i.e. Product Downloads, eFix, Case Management.</p></section>';e(s).insertAfter(".supportcentral-news")}}},init:function(){n.Helpers.isAuthenticated()&&n.Helpers.isOnSupportLandingPage()&&(this.issueShowMore(),this.loadData(),this.employeeCheck())}},n.Alerts={init:function(){var t,s;this.dialog=e("#confirm"),this.trigger=e(".js-fancyDialog"),this.confirmButton="Close",this.confirmCheckbox="Don't show this again",t=function(e){e&&e.length>0?(l=e,this.alertButton(),this.checkCookies(this.messages)):this.trigger.parent().remove()}.bind(this),n.Helpers.bmcSupportLoaded()&&n.Helpers.bmcAlertsEnabled()&&(s="undefined"!=typeof bmcMeta.cdxLocal&&bmcMeta.cdxLocal?"test/alertMessages.json":"undefined"!=typeof bmcMeta.support.alertsUrl&&bmcMeta.support.alertsUrl?bmcMeta.support.alertsUrl:"/templates/ServiceSupportAlertsJSON",this.loadMessagesFromUrl(t,s))},loadMessagesFromGlobal:function(e){var t;n.Helpers.bmcSupportLoaded()&&"undefined"!=typeof bmcMeta.support.alertMessages&&(t=bmcMeta.support.alertMessages),"function"==typeof e&&e(t)},loadMessagesFromUrl:function(t,s){e.ajax(s).done(function(e){"function"==typeof t&&t(e.supportAlertMessages)}).fail(function(){"function"==typeof t&&t(null)})},openAlert:function(){this.fancyConfig(this.messages)},alertButton:function(){this.trigger.on("click",e.proxy(this.openAlert,this))},checkCookies:function(){var t=!1;for(i=0;i<l.length;i++)void 0===e.cookie(l[i].id)&&(t=!0);t&&this.openAlert()},fancyConfig:function(){e.fancybox(this.dialog,{autoWidth:!1,minHeight:400,maxWidth:745,padding:0,tpl:{wrap:'<div class="fancybox-wrap fancybox-dialog" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-title">Alert Notifications</div><div class="fancybox-inner"></div></div></div></div>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>'},helpers:{overlay:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!0}},beforeShow:function(){for(this.content.append("<div class='messages'></div><div class='action'></div>"),this.messages=this.content.find(".messages"),i=0;i<l.length;i++)this.messages.append("<h3 class='title'>"+l[i].title+"</h3>"),this.messages.append("<p class='message'>"+l[i].message+"</p>"),l[i].link&&this.messages.append('<p class="link"><a href="'+l[i].url+'">'+l[i].link+"</a></p>");this.messages.append('<p style="text-align:right"><input type="button" class="btn action-button" value="'+n.Alerts.confirmButton+'"/></p>'),this.content.find(".action").append('<input type="button" class="btn action-button" value="'+n.Alerts.confirmButton+'"/><label class="action-checkbox"><input type="checkbox" />'+n.Alerts.confirmCheckbox+"</label>")},afterShow:function(){var t=this.content.find(".action-button"),s=this.content.find(".action .action-button"),n=this.content.find(".action-checkbox input"),o=e(".fancybox-dialog .fancybox-close");closeDialog=function(){if(n.is(":checked"))for(i=0;i<l.length;i++)e.cookie(l[i].id,l[i].id,{expires:365,path:"/",domain:".bmc.com"});e.fancybox.close()},this.messages[0].scrollHeight>this.messages.innerHeight()&&(s.prop("disabled",!0),this.messages.bind("scroll",function(){var t=Math.floor(e(this)[0].scrollHeight-e(this).scrollTop());t<=e(this).innerHeight()&&s.prop("disabled",!1)})),t.on("click",function(){closeDialog()}),o.on("click",function(){closeDialog()})},afterClose:function(){this.content.html("")}})}},n.GettingStartedCarousel={init:function(){e(".support-getting-started-topics.carousel .topics").owlCarousel({items:1,nav:!1})}},n.ToggleSearchAreas={searchAreasSelector:".js-support-search-area",toggleActionSelector:".js-support-search-toggle",toggleActionLabelSelector:".js-support-search-toggle",toggleLabelText:{expand:"More Resources",collapse:"Collapse"},togglableAreas:null,elementsShown:!1,hideLastQty:4,init:function(){0!==e(".js-support-search-toggle-extra").length&&(this.findTogglableElements(),this.addHandlers(),this.actions.hide(this.helpers.hideElementsInstant),this.actions.updateLabel(this.toggleLabelText.expand))},helpers:{showElementsFade:function(t){return e(t).fadeIn()},showElementsInstant:function(t){return e(t).show()},hideElementsFade:function(t){return e(t).fadeOut()},hideElementsInstant:function(t){return e(t).hide()}},findTogglableElements:function(){var t=e(this.searchAreasSelector),s=t.length-this.hideLastQty,n=t.length;this.togglableAreas=t.slice(s,n)},actions:{toggle:function(){n.ToggleSearchAreas.elementsShown?(this.hide(n.ToggleSearchAreas.helpers.hideElementsFade),this.updateLabel(n.ToggleSearchAreas.toggleLabelText.expand)):(this.show(n.ToggleSearchAreas.helpers.showElementsFade),this.updateLabel(n.ToggleSearchAreas.toggleLabelText.collapse))},show:function(t){"function"==typeof t&&t(e(n.ToggleSearchAreas.togglableAreas)),n.ToggleSearchAreas.elementsShown=!0},hide:function(t){"function"==typeof t&&t(e(n.ToggleSearchAreas.togglableAreas)),n.ToggleSearchAreas.elementsShown=!1},updateLabel:function(t){e(n.ToggleSearchAreas.toggleActionLabelSelector).html(t)}},addHandlers:function(){e(this.toggleActionSelector).on("click",function(e){e.preventDefault(),this.actions.toggle()}.bind(this))}},n.Menu={desktopBreakpoint:960,touchHandlers:function(t){var s=t.menu;e(s.subMenuTriggerSelector).on({click:function(t){e(s.subMenuSelector).has(e(t.target))||t.preventDefault();var n=s.findMenuFromTarget(t.target);n.hasClass(s.expandedClass)?s.collapseMenu(n):(s.collapseAllSubMenus(),s.expandMenu(n))}})},noTouchHandlers:function(t){var s=t.menu;e(s.subMenuTriggerSelector).on({mouseenter:function(e){s.collapseAllSubMenus();var t=s.findMenuFromTarget(e.target);s.expandMenu(t)},mouseleave:function(){s.collapseAllSubMenus()}})},collapseOutsideHandler:function(t){var s=t.menu,n=e(s.menuElement);e("body").on("click",function(t){e(t.target).parents().addBack().is(n)||s.collapseAllSubMenus()})},destoryHandlers:function(t){var s=t.menu;e(s.subMenuTriggerSelector).off()},getMenu:function(){var s=t.generateMenu({menuElement:e(".support-menu")});return s},getAdapters:function(t){var n=this,o=s.generateMenuAdapter(t,{handlers:[{setup:n.touchHandlers,destroy:n.destoryHandlers},{setup:n.collapseOutsideHandler,destroy:n.destoryHandlers}],init:function(t){e(t.menu.menuElement).addClass("desktop")},teardown:function(t){e(t.menu.menuElement).removeClass("desktop"),t.menu.collapseAllSubMenus()}}),a=s.generateMenuAdapter(t,{handlers:[{setup:n.touchHandlers,destroy:function(e){return n.destoryHandlers(e)}}],init:function(t){e(t.menu.menuElement).addClass("mobile")},teardown:function(t){e(t.menu.menuElement).removeClass("mobile"),t.menu.collapseAllSubMenus()}}),i={mobile:a,desktop:o};return i},getAdapterManager:function(){var e=generateMenuAdapterManager();return e},init:function(){var t=this.getMenu(),s=this.getAdapters(t),o=this.getAdapterManager(t,s),a=function(){return Modernizr.mq("(min-width: "+n.Menu.desktopBreakpoint+"px)")||e(window).width()>=n.Menu.desktopBreakpoint},i=function(){return!a()};o.addCondition(function(){return a()},s.desktop),o.addCondition(function(){return i()},s.mobile),o.init()}},n.MobileToggleHeader={baseHeight:null,maxHeight:1500,breakpointToggle:960,actions:{open:function(){e(".support-header").addClass("expanded"),e(".support-header").css("max-height","1200px")},close:function(){this.setHeightAsBaseHeight()},setHeightAsBaseHeight:function(){e(".support-header").css("max-height",n.MobileToggleHeader.baseHeight+"px"),e("html").hasClass("oldie")&&e(".support-header").trigger("transitionend")},applyIfMobile:function(){var t=Modernizr.mq("(min-width: "+n.MobileToggleHeader.breakpointToggle+"px)")||e(window).width()>=n.Menu.desktopBreakpoint;t?(e(".support-header").css("max-height",""),e(".support-header").removeClass("expanded")):e(".support-header").hasClass("expanded")?this.open():this.close()}},calcBaseHeight:function(){this.baseHeight=90},addHandlers:function(){e(".js-toggle-open-header").on("click",function(){e(".support-header").hasClass("expanded")?n.MobileToggleHeader.actions.close():n.MobileToggleHeader.actions.open()}),e(".support-header").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){(e(".support-header").height()===n.MobileToggleHeader.baseHeight||e("html").hasClass("oldie"))&&e(".support-header").removeClass("expanded")}),e(window).on("resize",function(){n.MobileToggleHeader.actions.applyIfMobile()})},init:function(){var e=this;window.setTimeout(function(){e.calcBaseHeight(),e.addHandlers(),e.actions.applyIfMobile()},0)}},n.SlideInSupportChatButton={init:function(){var t=e(".support-chat-now, .chat-now-link");t.length&&t.addClass("on-screen")}},e(o)}(jQuery)},{"./menu":3,"./menu-adapter":2}],2:[function(e,t,s){var n=function(){var e={label:"",menu:null,"interface":"touch",handlers:[],setupHandlers:function(){var e=this;$.each(this.handlers,function(t,s){s.setup(e)})},destroyHandlers:function(){var e=this;$.each(this.handlers,function(t,s){s.destroy(e)})},teardown:function(){},init:function(){}};return function(t,s){var n=$.extend({},e,s,{menu:t,init:function(e){t.init(),this["interface"]=e,this.setupHandlers(),"function"==typeof s.init&&s.init(this)},teardown:function(){this.destroyHandlers(),"function"==typeof s.teardown&&s.teardown(this)}});return n}}();s.generateMenuAdapter=n},{}],3:[function(e,t,s){var n=function(){var e={menuElement:$(".menu"),subMenuSelector:".sub-menu",expandedClass:"expanded",subMenuTriggerSelector:".js-show-sub-trigger",expandMenu:function(e){$(e).addClass(this.expandedClass)},collapseMenu:function(e){$(e).removeClass(this.expandedClass)},collapseAllSubMenus:function(){var e=this;this.menuElement.find(this.subMenuSelector).each(function(t,s){e.collapseMenu(s)})},findMenuFromTarget:function(e){var t=$(e).parent(this.subMenuTriggerSelector).addBack(this.subMenuTriggerSelector),s=t.find(this.subMenuSelector);return s},init:function(){}};return function(t){return $.extend({},e,t)}}();s.generateMenu=n},{}]},{},[1])(1)});